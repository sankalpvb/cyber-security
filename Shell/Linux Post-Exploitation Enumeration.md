

# üõ†Ô∏è Linux Post-Exploitation Enumeration ‚Äî Notes

Once you gain access to a machine (as a low-privileged user or root), **enumeration is the most important step**.

It helps you understand:
- What system you are on  
- What users exist  
- What processes are running  
- What network connections exist  
- What privilege escalation paths are possible  

---

## üîπ 1. System Information

### Hostname
```bash
hostname
````

Shows system name; sometimes reveals server roles (e.g., `SQL-PROD-01`).

### Kernel Info

```bash
uname -a
```

Shows kernel version, architecture, OS build ‚Äî useful for kernel exploit research.

### Kernel Version & Compiler

```bash
cat /proc/version
```

### OS Version (login banner)

```bash
cat /etc/issue
```

---

## üîπ 2. Process Enumeration

### Basic process list

```bash
ps
```

### All processes

```bash
ps -A
```

### Detailed process info

```bash
ps aux
```

### Process Tree

```bash
ps axjf
```

Useful for spotting privileged or suspicious processes.

---

## üîπ 3. Environment Variables

```bash
env
```

Look for:

* `PATH` (important for PATH hijacking)
* Available compilers/interpreters: `python`, `gcc`, `perl`
* Variables preserved by `sudo` (possible sudo-based privesc)

---

## üîπ 4. Sudo Privilege Enumeration

Check your sudo permissions:

```bash
sudo -l
```

Common exploitable sudo entries:

* `sudo nmap`
* `sudo find`
* `sudo apache2`
* `sudo less`
* `sudo vim`

Use GTFOBins for exploit payloads:
üëâ [https://gtfobins.github.io/](https://gtfobins.github.io/)

Sudo misconfigurations are one of the **most common PrivEsc vectors**.

---

## üîπ 5. Filesystem Enumeration

### Full directory listing

```bash
ls -la
```

### User & group info

```bash
id
```

### View user accounts

```bash
cat /etc/passwd
```

### Command history (may contain passwords)

```bash
history
```

---

## üîπ 6. Network Enumeration

### Interfaces

```bash
ifconfig
# or
ip a
```

### Routing Table

```bash
ip route
```

### Open ports & connections

Most useful `netstat` flags:

* `-a` ‚Üí all sockets
* `-l` ‚Üí listening
* `-t` ‚Üí TCP
* `-u` ‚Üí UDP
* `-n` ‚Üí numeric output
* `-p` ‚Üí process name
* `-s` ‚Üí statistics

Examples:

```bash
netstat -ano
netstat -lntp
netstat -s
netstat -i
```

Useful for identifying lateral movement/pivoting opportunities.

---

## üîπ 7. Searching for Files ‚Äî Using `find`

### General file searches

```bash
find . -name flag1.txt
find /home -name flag1.txt
find / -type f -name config
```

### Find files by permissions

```bash
find / -perm 0777 -type f 2>/dev/null
find / -perm -o x -type d 2>/dev/null
find / -perm -u=s -type f 2>/dev/null   # SUID binaries
```

### Find files by owner

```bash
find /home -user frank
```

### Find recently modified/accessed files

```bash
find / -mtime -5      # modified in last 5 days
find / -cmin -60      # changed in last 60 min
find / -amin -60      # accessed in last 60 min
```

### Find development tools (useful for exploits)

```bash
find / -name gcc*
find / -name python*
find / -name perl*
```

---

## üîπ 8. Key Places to Look for Privilege Escalation

| Area                  | What to Look For                                  |
| --------------------- | ------------------------------------------------- |
| Kernel version        | Known kernel exploits (DirtyCow, OverlayFS, etc.) |
| Sudo                  | Misconfig (`NOPASSWD`, `LD_PRELOAD`, GTFOBins)    |
| SUID binaries         | Programs running with root privileges             |
| Capabilities          | Files with extra privileges (`getcap -r /`)       |
| Cron jobs             | Writable scripts executed as root                 |
| Weak permissions      | Writable scripts/config files                     |
| Environment variables | Unsafe PATH, exposed interpreters                 |
| Network services      | Misconfigs, pivot chances                         |

---

## üîπ 9. General Linux Commands to Know

Essential for enumeration:

* `grep`
* `cut`
* `sort`
* `awk`
* `sed`
* `locate`
* `which`
* `whereis`

These appear in almost every privilege escalation scenario.

---

## ‚≠ê Conclusion

Post-compromise enumeration is critical.
It helps you identify:

* What you can do
* What you can access
* How you can escalate

Even after gaining access, **thorough enumeration** is required to uncover every privilege escalation path.

